<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HKDSE Past Paper è³‡æºåº«</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .card-hover:hover { transform: translateY(-4px); box-shadow: 0 12px 24px rgba(0,0,0,0.06); }
        .breadcrumb-item:after { content: '>'; margin: 0 10px; color: #94a3b8; font-size: 0.8rem; }
        .breadcrumb-item:last-child:after { content: ''; }
        
        /* åé¥‹æ¨¡æ€æ¡† */
        .feedback-modal { background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(8px); }
        .slide-up { animation: slideUp 0.3s ease-out; }
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        /* æˆåŠŸæ¶ˆæ¯å‹•ç•« */
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body class="bg-[#f8fafc] min-h-screen pb-20">
    <div id="app" class="max-w-5xl mx-auto px-4 py-8">
        <!-- é ‚éƒ¨æ¬„ -->
        <header class="flex flex-col md:flex-row justify-between items-start md:items-center mb-10 bg-white p-6 rounded-3xl shadow-sm border border-slate-100">
            <div class="mb-4 md:mb-0">
                <h1 class="text-3xl font-black text-slate-800 tracking-tight">DSE Resource Hub</h1>
                <p class="text-slate-400 text-sm mt-1 font-medium">Untrammeled's Past Paper Library</p>
            </div>
            <div class="flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-4">
                <span class="bg-blue-50 text-blue-600 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider inline-block w-fit">Public Archive</span>
                <button @click="showFeedbackForm" 
                        class="bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-600 hover:to-indigo-600 text-white px-4 py-2 rounded-xl text-sm font-bold transition-all shadow-sm hover:shadow-md flex items-center justify-center">
                    <i class="fas fa-comment-medical mr-2"></i>
                    å ±å‘Šç¼ºå¤±è©¦å·
                </button>
            </div>
        </header>

        <!-- éºµåŒ…å±‘å°èˆª -->
        <nav class="flex items-center mb-6 px-2 overflow-x-auto whitespace-nowrap pb-2">
            <button @click="goHome" class="flex items-center text-blue-600 hover:text-blue-800 transition flex-shrink-0">
                <i class="fas fa-home mr-2"></i>
                <span class="font-bold">Home</span>
            </button>
            <div v-for="(crumb, index) in breadcrumbs" :key="index" class="breadcrumb-item flex items-center flex-shrink-0">
                <button @click="jumpTo(index)" class="text-slate-500 hover:text-blue-600 font-medium transition">{{ crumb }}</button>
            </div>
        </nav>

        <!-- ä¸»å…§å®¹å€åŸŸ -->
        <div v-if="Object.keys(currentMenu).length > (currentMenu._files ? 1 : 0)" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5">
            <div v-for="(value, key) in currentMenu" v-show="key !== '_files'" 
                 @click="enterDir(key)"
                 class="card-hover cursor-pointer bg-white p-6 rounded-2xl border border-slate-100 flex items-center justify-between transition-all group">
                <div class="flex items-center space-x-4">
                    <div class="w-12 h-12 bg-slate-50 group-hover:bg-blue-50 text-slate-400 group-hover:text-blue-500 rounded-xl flex items-center justify-center transition-colors">
                        <i v-if="key === 'hkedb file'" class="fas fa-external-link-alt text-xl"></i>
                        <i v-else class="fas fa-folder text-xl"></i>
                    </div>
                    <div>
                        <span class="font-bold text-slate-700 text-lg block leading-tight">{{ key }}</span>
                        <span v-if="key === 'hkedb file'" class="text-blue-500 text-xs mt-1">é»æ“Šè·³è½‰åˆ°å¤–éƒ¨è³‡æº</span>
                        <span v-else class="text-slate-400 text-xs mt-1">é»æ“ŠæŸ¥çœ‹é …ç›®</span>
                    </div>
                </div>
                <i v-if="key === 'hkedb file'" class="fas fa-arrow-up-right-from-square text-blue-400 group-hover:text-blue-600 transition-colors"></i>
                <i v-else class="fas fa-arrow-right text-slate-200 group-hover:text-blue-300 transition-colors"></i>
            </div>
        </div>

        <!-- æ–‡ä»¶åˆ—è¡¨ -->
        <div v-if="currentMenu._files" class="mt-8">
            <div class="bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden">
                <div class="px-6 py-4 bg-slate-50 border-b border-slate-100 flex justify-between items-center">
                    <span class="font-bold text-slate-500 uppercase text-xs tracking-widest">å¯ç”¨PDFæ–‡æª”</span>
                    <span class="text-slate-400 text-xs">{{ currentMenu._files.length }} å€‹æ–‡ä»¶</span>
                </div>
                <div class="divide-y divide-slate-50">
                    <div v-for="file in currentMenu._files"
                       class="flex items-center justify-between p-5 hover:bg-blue-50/50 group transition-all">
                        <div class="flex items-center pr-4 flex-grow">
                            <div class="w-10 h-10 flex items-center justify-center text-red-500 bg-red-50 rounded-lg mr-4 group-hover:scale-110 transition-transform">
                                <i class="fas fa-file-pdf text-lg"></i>
                            </div>
                            <div>
                                <span class="text-slate-700 group-hover:text-blue-700 font-semibold block transition-colors">
                                    {{ formatFileName(file) }}
                                </span>
                                <span class="text-slate-400 text-xs">PDF æ–‡æª”</span>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <!-- æŸ¥çœ‹æŒ‰éˆ• -->
                            <button @click="openPdf(file)"
                                    class="text-blue-500 hover:text-white hover:bg-blue-600 font-bold text-xs bg-white px-4 py-2 rounded-full border border-slate-100 shadow-sm transition-all flex items-center">
                                <i class="fas fa-external-link-alt mr-2"></i>
                                æŸ¥çœ‹
                            </button>
                            <!-- ä¸‹è¼‰æŒ‰éˆ• -->
                            <button @click="downloadPdf(file)"
                                    class="text-blue-500 hover:text-white hover:bg-blue-600 font-bold text-xs bg-white px-4 py-2 rounded-full border border-slate-100 shadow-sm transition-all flex items-center">
                                <i class="fas fa-download mr-2"></i>
                                ä¸‹è¼‰
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç©ºæ–‡ä»¶å¤¾æç¤º -->
        <div v-if="Object.keys(currentMenu).length === 0" class="text-center py-20 bg-white rounded-3xl border border-dashed border-slate-200">
            <i class="fas fa-inbox text-slate-200 text-5xl mb-4"></i>
            <p class="text-slate-400">æ­¤æ–‡ä»¶å¤¾ç‚ºç©ºã€‚</p>
        </div>

        <!-- åé¥‹è¡¨æ ¼æ¨¡æ€æ¡† -->
        <div v-if="showFeedback" class="feedback-modal fixed inset-0 z-[200] flex items-center justify-center p-4">
            <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto slide-up">
                <!-- é ­éƒ¨ -->
                <div class="sticky top-0 bg-white border-b border-slate-100 px-6 py-4 flex items-center justify-between">
                    <div>
                        <h3 class="text-xl font-bold text-slate-800">ğŸ“ å ±å‘Šç¼ºå¤±è©¦å·</h3>
                        <p class="text-slate-500 text-sm mt-1">å¹«åŠ©æˆ‘å€‘å®Œå–„è³‡æºåº«</p>
                    </div>
                    <button @click="closeFeedbackForm" class="w-8 h-8 rounded-full hover:bg-slate-100 flex items-center justify-center transition-colors">
                        <i class="fas fa-times text-slate-400"></i>
                    </button>
                </div>

                <!-- è¡¨å–®å…§å®¹ -->
                <div class="p-6 space-y-6">
                    <!-- ç§‘ç›®é¸æ“‡ -->
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            ç§‘ç›® <span class="text-red-500">*</span>
                        </label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                            <button v-for="subject in ['Chinese', 'English', 'Math', 'LS', 'Phy', 'Chem', 'Bio', 'Econ', 'Geog', 'Hist', 'BAFS', 'ICT']"
                                    :key="subject"
                                    @click="feedback.subject = subject"
                                    :class="feedback.subject === subject 
                                            ? 'bg-blue-100 border-blue-500 text-blue-700' 
                                            : 'bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100'"
                                    class="border rounded-lg py-3 px-4 text-sm font-medium transition-all text-center">
                                {{ subject }}
                            </button>
                        </div>
                    </div>

                    <!-- å¹´ä»½é¸æ“‡ -->
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            å¹´ä»½ <span class="text-red-500">*</span>
                        </label>
                        <div class="flex flex-wrap gap-2">
                            <button v-for="year in [2024, 2023, 2022, 2021, 2020, 2019, 2018, 2017, 2016, 2015, 2014, 2013, 2012, 'PP', 'SP']"
                                    :key="year"
                                    @click="feedback.year = year"
                                    :class="feedback.year === year 
                                            ? 'bg-blue-100 border-blue-500 text-blue-700' 
                                            : 'bg-slate-50 border-slate-200 text-slate-600 hover:bg-slate-100'"
                                    class="border rounded-lg py-2 px-4 text-sm font-medium transition-all">
                                    {{ year }}
                            </button>
                        </div>
                    </div>

                    <!-- è©¦å·éƒ¨åˆ†é¸æ“‡ -->
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            ç¼ºå¤±çš„è©¦å·éƒ¨åˆ† <span class="text-red-500">*</span>
                        </label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 gap-2">
                            <div v-for="paper in ['Paper 1', 'Paper 2', 'Paper 3', 'Paper 4', 'Paper 5', 'Answer Key', 'Marking Scheme']"
                                 :key="paper"
                                 class="flex items-center">
                                <input :id="'paper-' + paper" 
                                       type="checkbox" 
                                       :value="paper"
                                       v-model="feedback.missingPapers"
                                       class="h-4 w-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500">
                                <label :for="'paper-' + paper" class="ml-2 text-slate-700 text-sm">
                                    {{ paper }}
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- èªè¨€ç‰ˆæœ¬ -->
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            èªè¨€ç‰ˆæœ¬
                        </label>
                        <div class="flex gap-4">
                            <label class="inline-flex items-center">
                                <input type="radio" v-model="feedback.language" value="ä¸­æ–‡ç‰ˆ" class="h-4 w-4 text-blue-600">
                                <span class="ml-2 text-slate-700 text-sm">ä¸­æ–‡ç‰ˆ</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" v-model="feedback.language" value="è‹±æ–‡ç‰ˆ" class="h-4 w-4 text-blue-600">
                                <span class="ml-2 text-slate-700 text-sm">è‹±æ–‡ç‰ˆ</span>
                            </label>
                            <label class="inline-flex items-center">
                                <input type="radio" v-model="feedback.language" value="both" class="h-4 w-4 text-blue-600">
                                <span class="ml-2 text-slate-700 text-sm">å…©è€…çš†æœ‰</span>
                            </label>
                        </div>
                    </div>

                    <!-- é¡å¤–èªªæ˜ -->
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            è©³ç´°èªªæ˜
                        </label>
                        <textarea v-model="feedback.description" 
                                  placeholder="è«‹æä¾›æ›´å¤šç´°ç¯€ï¼Œä¾‹å¦‚ï¼šå…·é«”ç¼ºå¤±çš„å…§å®¹ã€æ–‡ä»¶æ ¼å¼å»ºè­°ç­‰..."
                                  class="w-full h-32 px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all resize-none"></textarea>
                    </div>

                    <!-- è¯ç¹«æ–¹å¼ -->
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            è¯ç¹«æ–¹å¼ï¼ˆå¯é¸ï¼‰
                        </label>
                        <input type="email" v-model="feedback.contact" 
                               placeholder="email@example.com"
                               class="w-full px-4 py-3 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all">
                        <p class="text-slate-400 text-xs mt-1">åƒ…ç”¨æ–¼å¿…è¦æ™‚è¯ç¹«æ‚¨ï¼Œä¸æœƒå…¬é–‹é¡¯ç¤º</p>
                    </div>

                    <!-- æäº¤æŒ‰éˆ• -->
                    <div class="pt-4 border-t border-slate-100">
                        <div class="flex justify-between items-center">
                            <button @click="submitFeedback" 
                                    :disabled="!canSubmit"
                                    :class="canSubmit 
                                            ? 'bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600' 
                                            : 'bg-slate-300 cursor-not-allowed'"
                                    class="text-white px-8 py-3 rounded-xl font-bold transition-all shadow-sm hover:shadow-md flex items-center">
                                <i class="fas fa-paper-plane mr-2"></i>
                                æäº¤å ±å‘Š
                            </button>
                            <button @click="resetForm" class="text-slate-500 hover:text-slate-700 px-4 py-2 rounded-lg font-medium transition-colors">
                                é‡è¨­è¡¨å–®
                            </button>
                        </div>
                        <p class="text-slate-400 text-xs mt-4 text-center">
                            æäº¤å¾Œå°‡è·³è½‰åˆ° GitHub å‰µå»ºåé¥‹ Issueï¼Œæ‚¨çš„è²¢ç»å°‡å¹«åŠ©æ›´å¤šäººï¼
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- æäº¤æˆåŠŸæç¤º -->
        <div v-if="showSuccessMessage" class="fixed bottom-4 right-4 z-[300] animate-slideInRight" style="animation: slideInRight 0.5s ease-out;">
            <div class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center">
                <i class="fas fa-check-circle text-xl mr-3"></i>
                <div>
                    <p class="font-bold">å ±å‘Šå·²æäº¤ï¼</p>
                    <p class="text-sm opacity-90">æ­£åœ¨æ‰“é–‹ GitHub é é¢...</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp } = Vue;
        const rawData = {
            "hkedb file": {}, // é€™æ˜¯ä¸€å€‹ç‰¹æ®Šçš„é …ç›®ï¼Œé»æ“Šæ™‚æœƒè·³è½‰åˆ°å¤–éƒ¨éˆæ¥
            "Chinese": {
                "2012": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf", "p5.pdf", "per.pdf"] },
                "2013": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p4.pdf", "p5.pdf"] },
                "2014": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p4.pdf", "p5.pdf", "per.pdf"] },
                "2015": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p4.pdf", "p5.pdf"] },
                "2016": { "_files": ["ans.pdf", "p1.pdf", "p1.1.pdf", "p2.pdf", "p4.pdf", "p5.pdf", "per.pdf"] },
                "2017": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf", "p5.pdf"] },
                "2018": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                "2019": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                "2020": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf"] },
                "2021": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf"] },
                "2022": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "per.pdf"] },
                "2023": { "_files": ["ans.pdf", "p1.pdf","p2.pdf", "p3.pdf", "per.pdf"] },
                "2024": { "_files": ["p1.pdf"] },
                "PP": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf", "p5.pdf"] },
                "SP": { "_files": ["ans.pdf", "p1 (1).pdf", "p2.pdf", "p3.pdf", "p4.pdf", "p5.pdf"] }
            },
            "English": {
                "DSE": {
                    "2012": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf", "per.pdf"] },
                    "2013": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2014": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2015": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2016": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2017": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2018": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2019": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] },
                    "2020": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf"] },
                    "2021": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf"] },
                    "2022": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf"] },
                    "2023": { "_files": ["ans.pdf", "p1 (1).pdf", "p2.pdf", "p3.pdf", "p4.pdf", "per.pdf"] },
                    "PP": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf", "p3.pdf", "p4.pdf"] }
                }
            },
            "Math": {
                "DSE": {
                    "ä¸­æ–‡ç‰ˆ": {
                        "2012": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2013": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2014": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2015": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2016": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2017": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2018": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2019": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2020": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2021": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2022": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2023": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2024": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "PP": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "SP": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] }
                    },
                    "è‹±æ–‡ç‰ˆ": {
                        "2012": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2013": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2014": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2015": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2016": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2017": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2018": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2019": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2020": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2021": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2022": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "2023": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "PP": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] },
                        "SP": { "_files": ["ans.pdf", "p1.pdf", "p2.pdf"] }
                    }
                }
            }
        };

        createApp({
            data() {
                return {
                    db: rawData,
                    breadcrumbs: [],
                    currentMenu: rawData,
                    // åé¥‹è¡¨å–®ç‹€æ…‹
                    showFeedback: false,
                    showSuccessMessage: false,
                    feedback: {
                        subject: '',
                        year: '',
                        missingPapers: [],
                        language: '',
                        description: '',
                        contact: ''
                    },
                    // é…ç½®ï¼šGitHubå€‰åº«ä¿¡æ¯
                    githubConfig: {
                        repo: 'YOUR_USERNAME/YOUR_REPO', // è«‹ä¿®æ”¹ç‚ºä½ çš„å€‰åº«
                        labels: 'ç”¨æˆ¶åé¥‹,ç¼ºå¤±è©¦å·'
                    }
                }
            },
            computed: {
                canSubmit() {
                    return this.feedback.subject && this.feedback.year && this.feedback.missingPapers.length > 0;
                }
            },
            methods: {
                // ä¿®æ”¹çš„enterDiræ–¹æ³•
                enterDir(key) {
                    // ç‰¹æ®Šè™•ç†ï¼šå¦‚æœé»æ“Šçš„æ˜¯ "hkedb file"ï¼Œå‰‡è·³è½‰åˆ°å¤–éƒ¨éˆæ¥
                    if (key === 'hkedb file') {
                        window.open('https://findbaicha.github.io/chinese_edb_file', '_blank', 'noopener,noreferrer');
                        return;
                    }
                    
                    // æ­£å¸¸çš„æ–‡ä»¶å¤¾å°èˆªé‚è¼¯
                    this.breadcrumbs.push(key);
                    this.currentMenu = this.currentMenu[key];
                },
                
                jumpTo(index) {
                    this.breadcrumbs = this.breadcrumbs.slice(0, index + 1);
                    let temp = this.db;
                    this.breadcrumbs.forEach(key => { temp = temp[key]; });
                    this.currentMenu = temp;
                },
                goHome() {
                    this.breadcrumbs = [];
                    this.currentMenu = this.db;
                },
                getFilePath(filename) {
                    return "./" + this.breadcrumbs.join('/') + "/" + filename;
                },
                formatFileName(name) {
                    return name.replace(/\s*\(\d+\)/g, '').replace(/\s*- å‰¯æœ¬/g, '').toUpperCase();
                },
                
                // æ‰“é–‹PDFï¼ˆåœ¨æ–°æ¨™ç±¤é ï¼‰
                openPdf(file) {
                    const filePath = this.getFilePath(file);
                    window.open(filePath, '_blank', 'noopener,noreferrer');
                },
                
                // ä¸‹è¼‰PDF
                downloadPdf(file) {
                    const filePath = this.getFilePath(file);
                    const link = document.createElement('a');
                    link.href = filePath;
                    link.download = this.formatFileName(file) + '.pdf';
                    document.body.appendChild(link);
                    link.click();
                    document.body.removeChild(link);
                },
                
                // åé¥‹è¡¨å–®ç›¸é—œæ–¹æ³•
                showFeedbackForm() {
                    this.showFeedback = true;
                    document.body.style.overflow = 'hidden';
                },
                closeFeedbackForm() {
                    this.showFeedback = false;
                    document.body.style.overflow = 'auto';
                },
                resetForm() {
                    this.feedback = {
                        subject: '',
                        year: '',
                        missingPapers: [],
                        language: '',
                        description: '',
                        contact: ''
                    };
                },
                async submitFeedback() {
                    if (!this.canSubmit) return;
                    
                    // 1. é¡¯ç¤ºæˆåŠŸæ¶ˆæ¯
                    this.showSuccessMessage = true;
                    
                    // 2. çµ„ç¹”åé¥‹å…§å®¹ç‚ºMarkdownæ ¼å¼
                    const issueBody = this.generateIssueBody();
                    
                    // 3. å‰µå»ºGitHub Issues URL
                    const issueUrl = this.generateGitHubIssueUrl(issueBody);
                    
                    // 4. å»¶é²å¾Œæ‰“é–‹GitHubé é¢
                    setTimeout(() => {
                        window.open(issueUrl, '_blank', 'noopener,noreferrer');
                        
                        // 5. é—œé–‰è¡¨å–®å’Œæ¶ˆæ¯
                        setTimeout(() => {
                            this.showSuccessMessage = false;
                            this.closeFeedbackForm();
                            this.resetForm();
                        }, 2000);
                    }, 1000);
                },
                generateIssueBody() {
                    return `
**ğŸ“‹ ç¼ºå¤±è©¦å·å ±å‘Š**

| é …ç›® | å…§å®¹ |
| :--- | :--- |
| **ç§‘ç›®** | ${this.feedback.subject} |
| **å¹´ä»½** | ${this.feedback.year} |
| **ç¼ºå¤±éƒ¨åˆ†** | ${this.feedback.missingPapers.join(', ')} |
| **èªè¨€ç‰ˆæœ¬** | ${this.feedback.language || 'æœªæŒ‡å®š'} |
| **è©³ç´°èªªæ˜** | ${this.feedback.description || 'ç„¡'} |
| **è¯ç¹«æ–¹å¼** | ${this.feedback.contact || 'æœªæä¾›'} |

**ğŸ“… æäº¤ä¿¡æ¯**
- æäº¤æ™‚é–“ï¼š${new Date().toLocaleString('zh-Hant')}
- æäº¤ä¾†æºï¼šDSE Resource Hub

---
*æ­¤å ±å‘Šé€šé DSE è³‡æºåº«åé¥‹ç³»çµ±æäº¤*
                    `.trim();
                },
                generateGitHubIssueUrl(issueBody) {
                    const issueTitle = `[ç¼ºå¤±è©¦å·] ${this.feedback.subject} ${this.feedback.year}`;
                    const baseUrl = `https://github.com/${this.githubConfig.repo}/issues/new`;
                    
                    const params = new URLSearchParams({
                        'title': issueTitle,
                        'body': issueBody,
                        'labels': this.githubConfig.labels
                    });
                    
                    return `${baseUrl}?${params.toString()}`;
                }
            },
            mounted() {
                // ç¢ºä¿GitHubå€‰åº«é…ç½®æ­£ç¢º
                console.log('DSE Resource Hub å·²è¼‰å…¥');
                console.log('GitHub Issues åé¥‹ç³»çµ±å·²å•Ÿç”¨');
                console.log('è«‹ç¢ºä¿å·²é–‹å•Ÿå€‰åº« Issues åŠŸèƒ½: https://github.com/' + this.githubConfig.repo + '/settings');
            }
        }).mount('#app')
    </script>
</body>
</html>
